---
title: 科普-数据存储知识扫盲
date: 2012-02-21 11:06:00
categories:
 - IT Technology
tags:
 - Data storage
---


### Cache和Buffer之间的区别

*** Buffer，缓冲 ***。主要是为了提高内存和硬盘（或者其他I/O设备）之间的数据交换速度设计的。主要目的是为了是数据的写入速度更快。Buffer的设计主要是为了更高效的写入磁盘数据。把分散的写入操作先存在缓冲区内，而后集中进行，这样可以减少磁盘碎片和硬盘的反复寻道时间，提高系统的性能，同时保护硬盘。在Linux系统中，有一个守护进程定期清空缓冲内容，也就是写入磁盘。也可以通过sync命令手动清空缓冲区。同时，卸载磁盘设备时会清空缓冲，所以有时候卸载设备时候要等上一小会。

*** Cache，缓存 ***。主要是为了提高CPU和内存之间的数据交换速度设计的。主要是为了数据的读取速度更快。为了进一步提高速度，设计了一级缓存，二级缓存，三级缓存。由于内存的读取速度远远跟不上CPU的处理速度，同时根据程序运行的局部性原理，CPU执行的指令和访问的数据往往集中在内存的某一块，如果把这部分内容放入Cache中，就能提高CPU的访问速度。
<!-- more -->

### 几种硬盘接口类型

硬盘驱动器——HDD，Hard Disk Drive

IDE（Integrated Drive Electronics）电子集成驱动器
存储性能低，价格低廉应用范围广，现已经逐渐被淘汰。IDE是俗称的并口。

SATA（Serial Advanced Technology Attachment）串行高级技术附件，一种串行硬件驱动器接口
存储性能中，高容量低成本，现在比较流行，SATA是俗称的串口。SATA接口需要主板南桥芯片的支持。

SCSI（Small Computer System Interface）小型计算机系统接口
并不是专门为硬盘设计的接口，是为了小型机上的数据传输设计的。

SAS（Serial Attached SCSI）串行连接SCSI
存储性能高，是基于新一代SCSI技术，传输速度高，性能高效，并且兼容SATA硬盘。串口。

SSD（Solid State Disk）固态硬盘
目前流行的固态硬盘。存储性能很高。用固态电子存储芯片阵列制成的硬盘，由控制单元和存储单元（DRAM或FLASH芯片）两部分组成。

引申：Fusion IO
Fusion IO是一种基于PCIe接口的固态存储卡。
普通SSD磁盘的IO路径：cpu缓存→内存→Raid or SAS控制器→磁盘上的SATA or SAS芯片→Flash控制芯片→flash cell
FusionIO的路径：cpu缓存→PCIe→卡上的flash控制芯片→flash cell （它的Driver使数据绕过了内存层），这也是为什么它只推PCIe接口卡形式产品，而不出SAS、SATA接口的产品
另外，raid控制器 or SAS控制器也是一个处理瓶颈，首先其处理能力是一个问题，其次它是一个单通道的，而Fushion IO使用的PCIe总线，虽然它PCIe是一个串行协议，但有X4 X8 X16等等，可以达到多个通道并行。
FusionIO的宣传思路就是尽量缩短IO路径，使IO wait尽可能的小，CPU的利用率会大大提高。至于它的最终落地的Flash芯片其实和普通SSD硬盘的flash芯片是一样的东西。
（来源URL： http://www.saview.net/archives/20）

#### 引申：串口与并口的区别：
形象的说，串口就是一条线路之间传送，而并口是8个线路同一时刻传送8个位（一个字节的数据）。但是并不是并口快，由于8位通道之间的互相干扰。传输时速度就受到了限制。而且当传输出错时，要同时重新传8个位的数据。串口没有干扰，传输出错后重发一位就可以了。所以要比并口快。串口硬盘就是这样被人们重视的。

#### 引申：主板的南桥和北桥
北桥、南桥是主板上芯片组的总线控制器。北桥连接系统总线，担负着CPU访问内存，显卡，控制PCI总线。南桥主要负责IO设备的控制。
然而，现在的芯片组已经过渡到单芯片，主板上只有一个主板芯片，功能相当于以前的南桥。北桥的功能集成到CPU。

### RAID

独立冗余磁盘阵列（Redundant Array of Independent Disk，RAID）是一种把多块独立的硬盘（物理硬盘）按不同的方式组合起来形成一个硬盘组（逻辑硬盘），从而提供比单个硬盘更高的存储性能与数据备份能力的技术。RAID特色是N块硬盘同时读取速度加快及提供容错性（Fault Tolerant）。冗余磁盘阵列技术诞生于1987年，由美国加州大学伯克利分校提出。根据磁盘陈列的不同组合方式，可以将RAID分为不同级别。级别并不代表技术高低，选择哪一种RAID level的产品纯视用户的操作环境(operating environment)及应用而定，与级别高低没有必然关系。比如：RAID 0：无差错控制的带区组；RAID 1：镜像结构；RAID 2：带海明码校验；RAID 3：带奇偶校验码的并行传送；RAID 4：带奇偶校验码的独立磁盘结构；RAID 5：分布式奇偶校验的独立磁盘结构等等。